(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[736],{2402:(e,a,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/blog-details-hinzufuegen/[id]",function(){return t(129)}])},3866:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});var l=t(4848);t(6540);let s=e=>{let{title:a,paragraph:t,className:s}=e;return(0,l.jsx)("section",{className:"page-header ".concat(s&&s," marginnavbar"),children:(0,l.jsx)("div",{className:"container",children:(0,l.jsx)("div",{className:"row justify-content-center",children:(0,l.jsx)("div",{className:"col-lg-7 col-md-9",children:(0,l.jsxs)("div",{className:"cont text-center",children:[(0,l.jsx)("h1",{className:"mb-10 color-font",children:a}),(0,l.jsx)("p",{children:t})]})})})})})}},6063:(e,a,t)=>{"use strict";t.d(a,{A:()=>c});var l=t(4848),s=t(6540),i=t(1106),r=t.n(i),n=t(4335);let c=()=>{let[e,a]=(0,s.useState)([]),[t,i]=(0,s.useState)(1),[c,d]=(0,s.useState)(1),o=async e=>{try{let t=await n.A.get("https://back-end.topspeed-performance.de/api/blog-overviews?page=".concat(e));a(t.data.data),d(t.data.last_page)}catch(e){console.error("Error fetching blogs:",e)}},m=async t=>{try{await n.A.delete("https://back-end.topspeed-performance.de/api/blog-overview/".concat(t)),a(e.filter(e=>e.id!==t)),alert("Blog overview deleted successfully")}catch(e){console.error("Error deleting blog overview:",e),alert("Failed to delete blog overview")}};return(0,s.useEffect)(()=>{o(t)},[t]),(0,l.jsx)("section",{className:"blog-pg blog-list section-padding pt-0",children:(0,l.jsx)("div",{className:"container",children:(0,l.jsx)("div",{className:"row justify-content-center",children:(0,l.jsx)("div",{className:"col-lg-11",children:(0,l.jsxs)("div",{className:"posts mt-80",children:[e.map(e=>(0,l.jsx)("div",{className:"item mb-80 wow fadeInUp","data-wow-delay":".3s",children:(0,l.jsxs)("div",{className:"row",children:[(0,l.jsx)("div",{className:"col-lg-6 valign",children:(0,l.jsx)("div",{className:"img md-mb50",children:(0,l.jsx)("img",{src:e.main_image,alt:e.main_title})})}),(0,l.jsx)("div",{className:"col-lg-6 valign",children:(0,l.jsx)("div",{className:"cont",children:(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"info",children:[(0,l.jsx)(r(),{legacyBehavior:!0,href:"blog-details-hinzufuegen/".concat(e.id),children:(0,l.jsx)("a",{className:"tag",children:(0,l.jsx)("span",{children:new Date(e.date_added).toLocaleDateString()})})}),(0,l.jsx)("span",{children:"/"})]}),(0,l.jsx)("h5",{children:(0,l.jsx)(r(),{legacyBehavior:!0,href:"blog-details-hinzufuegen/".concat(e.id),children:(0,l.jsx)("a",{children:e.main_title})})}),(0,l.jsxs)("div",{className:"btn-more mt-30",children:[(0,l.jsx)(r(),{legacyBehavior:!0,href:"blog-details-hinzufuegen/".concat(e.id),children:(0,l.jsx)("a",{className:"simple-btn",children:"Blog Details"})}),(0,l.jsx)(r(),{legacyBehavior:!0,href:"#",children:(0,l.jsx)("a",{className:"butn bord curve mt-40 wow fadeInUp ml-4","data-wow-delay":".4s",onClick:()=>m(e.id),children:"Delete Blog"})})]})]})})})]})},e.id)),(0,l.jsx)("div",{className:"pagination",children:Array.from({length:c},(e,a)=>(0,l.jsx)("span",{children:(0,l.jsx)(r(),{legacyBehavior:!0,href:"#",children:(0,l.jsx)("a",{onClick:()=>i(a+1),children:a+1})})},a))})]})})})})})}},129:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>_});var l=t(4848),s=t(6540),i=t(6715),r=t(6308),n=t(9590),c=t(3866),d=t(9242);t(6063);var o=t(4335),m=t(1106),g=t.n(m),p=t(9965),h=t.n(p);let u=e=>{let{id:a}=e,[t,i]=(0,s.useState)({main_paragraph:"",summary_paragraph:"",additional_image_1:null,additional_image_2:null}),[r,n]=(0,s.useState)(null),[c,d]=(0,s.useState)(!1),[m,p]=(0,s.useState)(!1),[u,b]=(0,s.useState)(""),[_,x]=(0,s.useState)({image1:"",image2:""});(0,s.useEffect)(()=>{(async()=>{try{let e=await o.A.get("https://back-end.topspeed-performance.de/api/blog-posts/".concat(a));e.data&&(d(!0),i({main_paragraph:e.data.main_paragraph||"",summary_paragraph:e.data.summary_paragraph||"",additional_image_1:e.data.additional_image_1||null,additional_image_2:e.data.additional_image_2||null}),x({image1:e.data.additional_image_1||"",image2:e.data.additional_image_2||""}),n(e.data.id))}catch(e){console.error("Error fetching blog post:",e)}})()},[a]);let v=e=>{let{name:a,value:t}=e.target;i(e=>({...e,[a]:t}))},j=e=>{let{name:a}=e.target;i(t=>({...t,[a]:e.target.files[0]}))},f=async e=>{if(!e)return null;let a=new FormData;a.append("file",e),a.append("upload_preset","vlwalid");try{return(await o.A.post("https://api.cloudinary.com/v1_1/dhagemzyp/image/upload",a)).data.secure_url}catch(e){return console.error("Error uploading image:",e),null}},N=async e=>{let a=t[e],l=await f(a);"additional_image_1"===e?x(e=>({...e,image1:l})):"additional_image_2"===e&&x(e=>({...e,image2:l}))},w=async e=>{e.preventDefault(),p(!0),b("");let l=new FormData;l.append("blog_overview_id",a),l.append("main_paragraph",t.main_paragraph),l.append("summary_paragraph",t.summary_paragraph),l.append("additional_image_1",_.image1||""),l.append("additional_image_2",_.image2||"");try{let e=await o.A.post(c?"https://back-end.topspeed-performance.de/api/blog-posts/".concat(a,"/update"):"https://back-end.topspeed-performance.de/api/blog-posts-new",l,{headers:{"Content-Type":"multipart/form-data"}});(201===e.status||200===e.status)&&(b(c?"Blog updated successfully!":"Blog created successfully!"),d(!0))}catch(e){console.error("Error adding/updating blog post:",e),b("Error processing blog post!")}finally{p(!1)}},y=async()=>{try{let e=await o.A.delete("https://back-end.topspeed-performance.de/api/blog-posts/".concat(a));200===e.status&&(b("Blog post deleted successfully!"),d(!1),i({main_paragraph:"",summary_paragraph:"",additional_image_1:null,additional_image_2:null}),x({image1:"",image2:""}))}catch(e){console.error("Error deleting blog post:",e),b("Error deleting blog post!")}};return(0,l.jsxs)("div",{className:"container mt-5",children:[(0,l.jsx)("h2",{className:"text-center mb-4",children:c?"Edit Blog Details":"Add Blog Details"}),(0,l.jsxs)("form",{onSubmit:w,children:[(0,l.jsx)("div",{className:"row mb-3",children:(0,l.jsxs)("div",{className:"col-md-12",children:[(0,l.jsx)("label",{className:"form-label",children:"Main Paragraph"}),(0,l.jsx)("textarea",{name:"main_paragraph",value:t.main_paragraph,onChange:v,required:!0,className:"form-control",rows:"4"})]})}),(0,l.jsx)("div",{className:"row mb-3",children:(0,l.jsxs)("div",{className:"col-md-12",children:[(0,l.jsx)("label",{className:"form-label",children:"Summary Paragraph"}),(0,l.jsx)("textarea",{name:"summary_paragraph",value:t.summary_paragraph,onChange:v,className:"form-control",rows:"4"})]})}),(0,l.jsxs)("div",{className:"row mb-3",children:[(0,l.jsxs)("div",{className:"col-md-6",children:[(0,l.jsx)("label",{className:"form-label",children:"Additional Image 1"}),(0,l.jsx)("input",{type:"file",name:"additional_image_1",accept:"image/*",onChange:j,className:"form-control"}),(0,l.jsx)("button",{type:"button",className:"btn btn-secondary mt-2",onClick:()=>N("additional_image_1"),disabled:!t.additional_image_1,children:"Upload Image 1"}),_.image1&&(0,l.jsx)(h(),{src:_.image1,alt:"Uploaded Image 1",width:600,height:300,className:"img-fluid mt-2",style:{maxWidth:"100%",objectFit:"contain"}})]}),(0,l.jsxs)("div",{className:"col-md-6",children:[(0,l.jsx)("label",{className:"form-label",children:"Additional Image 2"}),(0,l.jsx)("input",{type:"file",name:"additional_image_2",accept:"image/*",onChange:j,className:"form-control"}),(0,l.jsx)("button",{type:"button",className:"btn btn-secondary mt-2",onClick:()=>N("additional_image_2"),disabled:!t.additional_image_2,children:"Upload Image 2"}),_.image2&&(0,l.jsx)(h(),{src:_.image2,alt:"Uploaded Image 2",width:600,height:300,className:"img-fluid mt-2",style:{maxWidth:"100%",objectFit:"contain"}})]})]}),(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("button",{type:"submit",className:"btn btn-primary ".concat(m?"disabled":""),disabled:m,children:m?"Processing...":c?"Update Blog Details":"Add Blog Details"}),c&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("button",{type:"button",className:"btn btn-danger ms-3",onClick:y,children:"Delete Blog Post"}),(0,l.jsx)(g(),{legacyBehavior:!0,href:"/admin/blog/news-beitraege-details/".concat(r),className:"btn btn-info ms-3",children:"View Blog"})]})]}),u&&(0,l.jsx)("p",{className:"text-center text-success mt-3",children:u})]})]})},b=e=>{let{blogId:a}=e,[t,r]=(0,s.useState)({main_title:"",main_image_url:""}),[n,c]=(0,s.useState)(null),[d,m]=(0,s.useState)(!1),[g,p]=(0,s.useState)(""),u=(0,i.useRouter)();(0,s.useEffect)(()=>{(async()=>{try{let e=await o.A.get("https://back-end.topspeed-performance.de/api/blog-overview/".concat(a));r({main_title:e.data.main_title,main_image_url:e.data.main_image}),p(e.data.main_image)}catch(e){console.error("Error fetching blog overview:",e)}})()},[a]);let b=async()=>{if(!n){alert("Please select a file first");return}let e=new FormData;e.append("file",n),e.append("upload_preset","vlwalid"),m(!0);try{let a=await o.A.post("https://api.cloudinary.com/v1_1/dhagemzyp/image/upload",e);p(a.data.secure_url),r({...t,main_image_url:a.data.secure_url}),m(!1)}catch(e){console.error("Error uploading image:",e),m(!1)}},_=async e=>{e.preventDefault();try{await o.A.put("https://back-end.topspeed-performance.de/api/blog-overview/".concat(a),{main_title:t.main_title,main_image:t.main_image_url}),alert("Blog overview updated successfully"),u.push("/blog-details/".concat(a))}catch(e){console.error("Error updating blog overview:",e),alert("Failed to update blog overview")}};return(0,l.jsxs)("div",{className:"container mt-5",children:[(0,l.jsx)("h2",{className:"text-center mb-4",children:"Update Blog Overview"}),(0,l.jsxs)("form",{onSubmit:_,className:"border p-4 rounded shadow-sm bg-light",children:[(0,l.jsxs)("div",{className:"mb-3",children:[(0,l.jsx)("label",{htmlFor:"main_title",className:"form-label",children:"Blog Title"}),(0,l.jsx)("input",{type:"text",name:"main_title",id:"main_title",value:t.main_title,onChange:e=>{let{name:a,value:t}=e.target;r(e=>({...e,[a]:t}))},className:"form-control"})]}),(0,l.jsxs)("div",{className:"mb-3",children:[(0,l.jsx)("label",{htmlFor:"main_image",className:"form-label",children:"Upload New Main Image"}),(0,l.jsx)("input",{type:"file",name:"main_image",id:"main_image",onChange:e=>{c(e.target.files[0])},className:"form-control"}),(0,l.jsx)("button",{type:"button",onClick:b,disabled:d||!n,className:"btn btn-secondary mt-2",children:d?"Uploading...":"Upload Image"})]}),g&&(0,l.jsxs)("div",{className:"mb-3",children:[(0,l.jsx)("p",{children:"Current Image:"}),(0,l.jsx)(h(),{src:g,alt:"Uploaded",width:300,height:200,objectFit:"cover"})]}),(0,l.jsx)("button",{type:"submit",className:"btn btn-success w-100",children:"Update Blog Overview"})]})]})},_=()=>{let e=s.useRef(null),a=s.useRef(null);s.useEffect(()=>{var t=e.current;a.current,window.pageYOffset>300?t.classList.add("nav-scroll"):t.classList.remove("nav-scroll"),window.addEventListener("scroll",()=>{window.pageYOffset>300?t.classList.add("nav-scroll"):t.classList.remove("nav-scroll")})},[e]);var{id:t}=(0,i.useRouter)().query;return(0,l.jsxs)(r.A,{children:[(0,l.jsx)("div",{className:"circle-bg",children:(0,l.jsxs)("div",{className:"circle-color fixed",children:[(0,l.jsx)("div",{className:"gradient-circle"}),(0,l.jsx)("div",{className:"gradient-circle two"})]})}),(0,l.jsx)(n.A,{nr:e,lr:a,theme:"themeL"}),(0,l.jsx)(c.A,{className:"sub-bg",title:"Unsere Neuigkeiten.",paragraph:"Alle aktuellen Nachrichten und Veranstaltungen unseres kreativen Teams."}),(0,l.jsx)(b,{blogId:t}),(0,l.jsx)(u,{id:t}),(0,l.jsx)(d.A,{})]})}}},e=>{var a=a=>e(e.s=a);e.O(0,[909,965,447,636,593,792],()=>a(2402)),_N_E=e.O()}]);