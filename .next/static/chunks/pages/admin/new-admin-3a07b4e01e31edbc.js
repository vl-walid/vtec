(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[160],{7986:(e,s,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/new-admin",function(){return r(2892)}])},2892:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>h});var a=r(4848),o=r(6540),n=r(9590),d=r(9242),i=r(6308),l=r(3149),c=r(1106),t=r.n(c),m=r(9965),p=r.n(m);let w=()=>{let[e,s]=(0,o.useState)(""),r=async e=>{if(s(""),e.password!==e.confirm_password){s("Passwords must match!");return}try{let s=await fetch("https://back-end.topspeed-performance.de/api/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e.name,email:e.email,password:e.password,admin_code:e.password_admin})}),r=await s.json();if(s.ok)alert("Admin registered successfully!");else if(r.errors){let e="Validation errors: \n";for(let[s,a]of Object.entries(r.errors))a.forEach(r=>{e+="".concat(s,": ").concat(r,"\n")});alert(e)}else r.message?alert(r.message):alert("An unknown error occurred.")}catch(e){console.error("Error:",e),s("An error occurred while submitting the form."),alert("An error occurred while submitting the form.")}};return(0,a.jsx)("section",{className:"contact section-padding",children:(0,a.jsx)("div",{className:"container",children:(0,a.jsxs)("div",{className:"row",children:[(0,a.jsx)("div",{className:"col-lg-6 mt-115",children:(0,a.jsx)("div",{className:"form md-mb50",children:(0,a.jsx)(l.l1,{initialValues:{name:"",email:"",password:"",confirm_password:"",password_admin:""},validate:e=>{let s={};return e.password!==e.confirm_password&&(s.confirm_password="Passwords must match!"),s},onSubmit:r,children:()=>(0,a.jsxs)(l.lV,{id:"register-form",children:[(0,a.jsxs)("div",{className:"form-group",children:[(0,a.jsx)(l.D0,{id:"form_name",type:"text",name:"name",placeholder:"Name"}),(0,a.jsx)(l.Kw,{name:"name",component:"div",className:"error"})]}),(0,a.jsxs)("div",{className:"form-group",children:[(0,a.jsx)(l.D0,{id:"form_email",type:"email",name:"email",placeholder:"Email"}),(0,a.jsx)(l.Kw,{name:"email",component:"div",className:"error"})]}),(0,a.jsxs)("div",{className:"form-group",children:[(0,a.jsx)(l.D0,{id:"form_password",type:"password",name:"password",placeholder:"Password"}),(0,a.jsx)(l.Kw,{name:"password",component:"div",className:"error"})]}),(0,a.jsxs)("div",{className:"form-group",children:[(0,a.jsx)(l.D0,{id:"form_confirm_password",type:"password",name:"confirm_password",placeholder:"Confirm Password"}),(0,a.jsx)(l.Kw,{name:"confirm_password",component:"div",className:"error"})]}),e&&(0,a.jsx)("div",{className:"error",children:e}),(0,a.jsxs)("div",{className:"form-group",children:[(0,a.jsx)(l.D0,{id:"form_password_admin",type:"password",name:"password_admin",placeholder:"Password from Admin"}),(0,a.jsx)(l.Kw,{name:"password_admin",component:"div",className:"error"})]}),(0,a.jsx)("button",{type:"submit",className:"butn bord",children:(0,a.jsx)("span",{children:"Register"})}),(0,a.jsx)(t(),{legacyBehavior:!0,href:"/admin/admin",children:(0,a.jsx)("a",{className:"text-login ml-4",children:"Login"})})]})})})}),(0,a.jsx)("div",{className:"col-lg-5 offset-lg-1",children:(0,a.jsx)(p(),{src:"/img/login.jpg",alt:"Display",className:"rounded",width:690,height:690,style:{borderRadius:"15px",width:"100%"}})})]})})})},h=()=>{let e=o.useRef(null),s=o.useRef(null);return o.useEffect(()=>{document.querySelector("body").classList.add("contact-page");var r=e.current;return s.current,window.pageYOffset>300?r.classList.add("nav-scroll"):r.classList.remove("nav-scroll"),window.addEventListener("scroll",()=>{window.pageYOffset>300?r.classList.add("nav-scroll"):r.classList.remove("nav-scroll")}),()=>{document.querySelector("body").classList.remove("contact-page")}},[e]),(0,a.jsxs)(i.A,{children:[(0,a.jsx)(n.A,{nr:e,lr:s,theme:"themeL"}),(0,a.jsxs)("div",{className:"main-content",children:[(0,a.jsx)(w,{}),(0,a.jsx)(d.A,{hideBGCOLOR:!0})]})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[909,965,149,447,636,593,792],()=>s(7986)),_N_E=e.O()}]);