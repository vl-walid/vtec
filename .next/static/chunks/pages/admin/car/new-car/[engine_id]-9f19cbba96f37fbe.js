(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[465],{5182:(e,a,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/car/new-car/[engine_id]",function(){return s(7707)}])},6988:(e,a,s)=>{"use strict";s.d(a,{A:()=>m});var r=s(4848),l=s(6540),n=s(1106),c=s.n(n),i=s(7669),t=s(4890),d=s(6715),o=s(4335);let m=e=>{let{theme:a}=e;l.useEffect(()=>{(0,t.A)()},[]);let s=(0,d.useRouter)(),n=async()=>{try{let e=localStorage.getItem("authToken");if(!e){console.log("No token found, user is not authenticated");return}let a=await o.A.post("https://back-end.topspeed-performance.de/api/logout",{},{headers:{Authorization:"Bearer ".concat(e)}});200===a.status&&(localStorage.removeItem("authToken"),alert("You have successfully logged out"),s.push("/"))}catch(e){console.error("Error during logout:",e),alert("An error occurred while logging out")}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{id:"navi",className:"topnav ".concat(a&&"light"===a?"light":""),children:(0,r.jsxs)("div",{className:"container-fluid",children:[(0,r.jsx)("div",{className:"logo",children:(0,r.jsx)(c(),{legacyBehavior:!0,href:"/",children:a&&"light"===a?(0,r.jsx)("img",{src:i.EW,alt:"logo"}):(0,r.jsx)("img",{src:i.Mx,alt:"logo"})})}),(0,r.jsxs)("div",{className:"menu-icon",children:[(0,r.jsxs)("span",{className:"icon",children:[(0,r.jsx)("i",{}),(0,r.jsx)("i",{})]}),(0,r.jsx)("span",{className:"text","data-splitting":!0,children:(0,r.jsx)("span",{className:"menu-text word",children:"Menu"})})]})]})}),(0,r.jsx)("div",{className:"hamenu",children:(0,r.jsx)("div",{className:"container",children:(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)("div",{className:"col-lg-9 col-md-8",children:(0,r.jsx)("div",{className:"menu-links",children:(0,r.jsxs)("ul",{className:"main-menu",children:[(0,r.jsx)("li",{children:(0,r.jsx)("div",{className:"o-hidden",children:(0,r.jsx)(c(),{legacyBehavior:!0,href:"/",children:(0,r.jsxs)("a",{className:"link",children:[(0,r.jsx)("span",{className:"nm",children:"01."}),"Startseite"]})})})}),(0,r.jsx)("li",{children:(0,r.jsx)("div",{className:"o-hidden",children:(0,r.jsx)(c(),{legacyBehavior:!0,href:"/admin/new-blog/",children:(0,r.jsxs)("a",{className:"link",children:[(0,r.jsx)("span",{className:"nm",children:"02."}),"Neue Neuigkeite"]})})})}),(0,r.jsx)("li",{children:(0,r.jsx)("div",{className:"o-hidden",children:(0,r.jsx)(c(),{legacyBehavior:!0,href:"/admin/car/search-car/",children:(0,r.jsxs)("a",{className:"link",children:[(0,r.jsx)("span",{className:"nm",children:"03."}),"Auto nach Name suchen"]})})})}),(0,r.jsx)("li",{children:(0,r.jsx)("div",{className:"o-hidden",children:(0,r.jsx)(c(),{legacyBehavior:!0,href:"/admin/car/new-car",children:(0,r.jsxs)("a",{className:"link",children:[(0,r.jsx)("span",{className:"nm",children:"04."}),"Neues Auto"]})})})}),(0,r.jsx)("li",{children:(0,r.jsx)("div",{className:"o-hidden",children:(0,r.jsx)(c(),{legacyBehavior:!0,href:"/admin/car/tuning-eigenschaften-hinzufuegen/",children:(0,r.jsxs)("a",{className:"link",children:[(0,r.jsx)("span",{className:"nm",children:"05."}),"Tuning und Eigenschaften"]})})})})]})})}),(0,r.jsx)("div",{className:"col-lg-3 col-md-4",children:(0,r.jsxs)("div",{className:"cont-info",children:[(0,r.jsxs)("div",{className:"item",children:[(0,r.jsx)("h6",{children:"Nummer : "}),(0,r.jsx)("p",{children:"034294/843751"})]}),(0,r.jsxs)("div",{className:"item",children:[(0,r.jsx)("h6",{children:"Offizielle Adresse :"}),(0,r.jsx)("p",{children:"Am Bahndamm 9, 04509 Krostitz"})]}),(0,r.jsxs)("div",{className:"item",children:[(0,r.jsx)("h6",{children:"E-Mail"}),(0,r.jsx)("p",{children:(0,r.jsx)("a",{href:"mailto:info@vtec-chiptuning.com?subject=Subject",children:"info@vtec-chiptuning.com"})})]}),(0,r.jsx)("div",{className:"item",children:(0,r.jsx)("button",{onClick:n,className:"admin-logout-btn mt-25",children:"Logout"})})]})})]})})})]})}},7707:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>x});var r=s(4848),l=s(6540),n=s(6715),c=s(6308),i=s(6988),t=s(3866),d=s(9242),o=s(4335),m=s(1106),h=s.n(m);let u=e=>{let{engineId:a,vehicleData:s}=e,[n,c]=(0,l.useState)({full_name:"",standard_power:"",standard_torque:"",fuel:"",ecu:"",rpm:"0, 500, 1000, 1500, 2000, 2500, 3000, 3500, 4000, 4500, 5000, 5500, 6000, 6500, 7000",oem_power_chart:"",oem_torque_chart:""}),[i,t]=(0,l.useState)(!1),[d,m]=(0,l.useState)(!1);(0,l.useEffect)(()=>{s&&c({full_name:s.full_name||"",standard_power:s.standard_power||"",standard_torque:s.standard_torque||"",fuel:s.fuel||"",ecu:s.ecu||"",rpm:s.rpm||"",oem_power_chart:s.oem_power_chart||"",oem_torque_chart:s.oem_torque_chart||""})},[s]);let u=e=>{let{name:a,value:s}=e.target;c(e=>({...e,[a]:s}))},x=async e=>{e.preventDefault(),t(!0);let s={...n,engine_id:a,rpm:Array.isArray(n.rpm)?n.rpm.join(", "):n.rpm};try{await o.A.post("https://back-end.topspeed-performance.de/api/vehicle/create",s),m(!0),alert("Vehicle details added successfully!")}catch(e){console.error("Error adding vehicle:",e),alert("There was an error adding the vehicle. Please check your input.")}finally{t(!1)}};return(0,r.jsx)("div",{className:"container mt-4",children:d?(0,r.jsx)("div",{className:"alert alert-success mt-4",children:"Vehicle details added successfully!"}):(0,r.jsxs)("form",{onSubmit:x,children:[(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)("div",{className:"col-md-6",children:(0,r.jsxs)("div",{className:"form-group mb-3",children:[(0,r.jsx)("label",{htmlFor:"full_name",children:"Full Name"}),(0,r.jsx)("input",{type:"text",className:"form-control",id:"full_name",name:"full_name",value:n.full_name,onChange:u,required:!0})]})}),(0,r.jsx)("div",{className:"col-md-6",children:(0,r.jsxs)("div",{className:"form-group mb-3",children:[(0,r.jsx)("label",{htmlFor:"standard_power",children:"Standard Power"}),(0,r.jsx)("input",{type:"number",className:"form-control",id:"standard_power",name:"standard_power",value:n.standard_power,onChange:u,required:!0})]})})]}),(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)("div",{className:"col-md-6",children:(0,r.jsxs)("div",{className:"form-group mb-3",children:[(0,r.jsx)("label",{htmlFor:"standard_torque",children:"Standard Torque"}),(0,r.jsx)("input",{type:"number",className:"form-control",id:"standard_torque",name:"standard_torque",value:n.standard_torque,onChange:u,required:!0})]})}),(0,r.jsx)("div",{className:"col-md-6",children:(0,r.jsxs)("div",{className:"form-group mb-3",children:[(0,r.jsx)("label",{htmlFor:"fuel",children:"Fuel"}),(0,r.jsx)("input",{type:"text",className:"form-control",id:"fuel",name:"fuel",value:n.fuel,onChange:u,required:!0})]})})]}),(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)("div",{className:"col-md-6",children:(0,r.jsxs)("div",{className:"form-group mb-3",children:[(0,r.jsx)("label",{htmlFor:"ecu",children:"ECU"}),(0,r.jsx)("input",{type:"text",className:"form-control",id:"ecu",name:"ecu",value:n.ecu,onChange:u,required:!0})]})}),(0,r.jsx)("div",{className:"col-md-6",children:(0,r.jsxs)("div",{className:"form-group mb-3",children:[(0,r.jsx)("label",{htmlFor:"rpm",children:"RPM"}),(0,r.jsx)("input",{type:"text",className:"form-control",id:"rpm",name:"rpm",value:n.rpm,onChange:u,placeholder:"Enter comma-separated values (e.g., 1000, 2000, 3000)",required:!0})]})})]}),(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)("div",{className:"col-md-6",children:(0,r.jsxs)("div",{className:"form-group mb-3",children:[(0,r.jsx)("label",{htmlFor:"oem_power_chart",children:"OEM Power Chart"}),(0,r.jsx)("input",{type:"text",className:"form-control",id:"oem_power_chart",name:"oem_power_chart",placeholder:"Diagramm mit 15 Zahlen, getrennt durch ','",value:n.oem_power_chart,onChange:u,required:!0})]})}),(0,r.jsx)("div",{className:"col-md-6",children:(0,r.jsxs)("div",{className:"form-group mb-3",children:[(0,r.jsx)("label",{htmlFor:"oem_torque_chart",children:"OEM Torque Chart"}),(0,r.jsx)("input",{type:"text",className:"form-control",id:"oem_torque_chart",name:"oem_torque_chart",placeholder:"Diagramm mit 15 Zahlen, getrennt durch ','",value:n.oem_torque_chart,onChange:u,required:!0})]})})]}),(0,r.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,r.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:i,children:i?"Saving...":"Save Vehicle"}),(0,r.jsx)("a",{className:"btn btn-secondary",children:(0,r.jsx)(h(),{legacyBehavior:!0,href:"/",children:"Cancel"})})]})]})})},x=()=>{let e=(0,n.useRouter)(),{engine_id:a}=e.query,[s,o]=(0,l.useState)(!0),[m,h]=(0,l.useState)(null),x=(0,l.useCallback)(async()=>{let a=localStorage.getItem("authToken");if(console.log("Token:",a),!a){console.log("No token found, user is not authenticated"),e.push("/");return}try{let s=await fetch("https://back-end.topspeed-performance.de/api/verify",{method:"POST",headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json"}});await s.json(),s.ok?(console.log("Token is valid"),o(!1)):(console.log("Token is invalid"),e.push("/"))}catch(a){console.error("Error verifying token:",a),e.push("/")}},[e]);return((0,l.useEffect)(()=>{x()},[x]),(0,l.useEffect)(()=>{a&&(h(a),o(!1))},[a]),s)?(0,r.jsx)("div",{children:"Loading..."}):(0,r.jsxs)(c.A,{children:[(0,r.jsx)("div",{className:"circle-bg",children:(0,r.jsxs)("div",{className:"circle-color fixed",children:[(0,r.jsx)("div",{className:"gradient-circle"}),(0,r.jsx)("div",{className:"gradient-circle two"})]})}),(0,r.jsx)(i.A,{theme:"light"}),(0,r.jsx)(t.A,{className:"sub-bg",title:"Details des Autos hinzuf\xfcgen.",paragraph:"Alle aktuellen Auto und Veranstaltungen unseres kreativen Teams."}),(0,r.jsx)(u,{engineId:m}),(0,r.jsx)(d.A,{})]})}}},e=>{var a=a=>e(e.s=a);e.O(0,[909,341,636,593,792],()=>a(5182)),_N_E=e.O()}]);