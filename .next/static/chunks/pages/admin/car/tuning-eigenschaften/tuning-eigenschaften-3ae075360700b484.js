(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[616],{3338:(e,s,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/car/tuning-eigenschaften/tuning-eigenschaften",function(){return a(8955)}])},6988:(e,s,a)=>{"use strict";a.d(s,{A:()=>h});var i=a(4848),c=a(6540),n=a(1106),l=a.n(n),t=a(7669),r=a(4890),d=a(6715),o=a(4335);let h=e=>{let{theme:s}=e;c.useEffect(()=>{(0,r.A)()},[]);let a=(0,d.useRouter)(),n=async()=>{try{let e=localStorage.getItem("authToken");if(!e){console.log("No token found, user is not authenticated");return}let s=await o.A.post("https://back-end.topspeed-performance.de/api/logout",{},{headers:{Authorization:"Bearer ".concat(e)}});200===s.status&&(localStorage.removeItem("authToken"),alert("You have successfully logged out"),a.push("/"))}catch(e){console.error("Error during logout:",e),alert("An error occurred while logging out")}};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{id:"navi",className:"topnav ".concat(s&&"light"===s?"light":""),children:(0,i.jsxs)("div",{className:"container-fluid",children:[(0,i.jsx)("div",{className:"logo",children:(0,i.jsx)(l(),{legacyBehavior:!0,href:"/",children:s&&"light"===s?(0,i.jsx)("img",{src:t.EW,alt:"logo"}):(0,i.jsx)("img",{src:t.Mx,alt:"logo"})})}),(0,i.jsxs)("div",{className:"menu-icon",children:[(0,i.jsxs)("span",{className:"icon",children:[(0,i.jsx)("i",{}),(0,i.jsx)("i",{})]}),(0,i.jsx)("span",{className:"text","data-splitting":!0,children:(0,i.jsx)("span",{className:"menu-text word",children:"Menu"})})]})]})}),(0,i.jsx)("div",{className:"hamenu",children:(0,i.jsx)("div",{className:"container",children:(0,i.jsxs)("div",{className:"row",children:[(0,i.jsx)("div",{className:"col-lg-9 col-md-8",children:(0,i.jsx)("div",{className:"menu-links",children:(0,i.jsxs)("ul",{className:"main-menu",children:[(0,i.jsx)("li",{children:(0,i.jsx)("div",{className:"o-hidden",children:(0,i.jsx)(l(),{legacyBehavior:!0,href:"/",children:(0,i.jsxs)("a",{className:"link",children:[(0,i.jsx)("span",{className:"nm",children:"01."}),"Startseite"]})})})}),(0,i.jsx)("li",{children:(0,i.jsx)("div",{className:"o-hidden",children:(0,i.jsx)(l(),{legacyBehavior:!0,href:"/admin/new-blog/",children:(0,i.jsxs)("a",{className:"link",children:[(0,i.jsx)("span",{className:"nm",children:"02."}),"Neue Neuigkeite"]})})})}),(0,i.jsx)("li",{children:(0,i.jsx)("div",{className:"o-hidden",children:(0,i.jsx)(l(),{legacyBehavior:!0,href:"/admin/car/search-car/",children:(0,i.jsxs)("a",{className:"link",children:[(0,i.jsx)("span",{className:"nm",children:"03."}),"Auto nach Name suchen"]})})})}),(0,i.jsx)("li",{children:(0,i.jsx)("div",{className:"o-hidden",children:(0,i.jsx)(l(),{legacyBehavior:!0,href:"/admin/car/new-car",children:(0,i.jsxs)("a",{className:"link",children:[(0,i.jsx)("span",{className:"nm",children:"04."}),"Neues Auto"]})})})}),(0,i.jsx)("li",{children:(0,i.jsx)("div",{className:"o-hidden",children:(0,i.jsx)(l(),{legacyBehavior:!0,href:"/admin/car/tuning-eigenschaften-hinzufuegen/",children:(0,i.jsxs)("a",{className:"link",children:[(0,i.jsx)("span",{className:"nm",children:"05."}),"Tuning und Eigenschaften"]})})})})]})})}),(0,i.jsx)("div",{className:"col-lg-3 col-md-4",children:(0,i.jsxs)("div",{className:"cont-info",children:[(0,i.jsxs)("div",{className:"item",children:[(0,i.jsx)("h6",{children:"Nummer : "}),(0,i.jsx)("p",{children:"034294/843751"})]}),(0,i.jsxs)("div",{className:"item",children:[(0,i.jsx)("h6",{children:"Offizielle Adresse :"}),(0,i.jsx)("p",{children:"Am Bahndamm 9, 04509 Krostitz"})]}),(0,i.jsxs)("div",{className:"item",children:[(0,i.jsx)("h6",{children:"E-Mail"}),(0,i.jsx)("p",{children:(0,i.jsx)("a",{href:"mailto:info@vtec-chiptuning.com?subject=Subject",children:"info@vtec-chiptuning.com"})})]}),(0,i.jsx)("div",{className:"item",children:(0,i.jsx)("button",{onClick:n,className:"admin-logout-btn mt-25",children:"Logout"})})]})})]})})})]})}},8955:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>m});var i=a(4848),c=a(6540),n=a(6715),l=a(6308),t=a(6988),r=a(3866),d=a(9242),o=a(4335);let h=e=>{let{car_id:s,tuning_id:a}=e,[n,l]=(0,c.useState)([]),[t,r]=(0,c.useState)([]),[d,h]=(0,c.useState)(null);(0,c.useEffect)(()=>{(async()=>{try{let e=await o.A.get("https://back-end.topspeed-performance.de/api/characteristics");l(e.data)}catch(e){console.error("Error fetching characteristics:",e)}})()},[]);let m=(0,c.useCallback)(async()=>{if(s&&a)try{let e=await o.A.get("https://back-end.topspeed-performance.de/api/vehicle/stage-and-name",{params:{vehicle_id:s,tuning_id:a}});h(e.data),console.log(e.data)}catch(e){console.error("Error fetching vehicle or tuning details:",e)}},[s,a]);(0,c.useEffect)(()=>{m()},[m]);let u=(0,c.useCallback)(async()=>{if(s&&a)try{let e=await o.A.get("https://back-end.topspeed-performance.de/api/vehicle/characteristics-by-tuning-id",{params:{vehicle_id:s,tuning_id:a}});r(e.data)}catch(e){console.error("Error fetching car characteristics:",e)}},[s,a]);(0,c.useEffect)(()=>{u()},[u]);let g=async e=>{try{console.log({vehicle_id:s,tuning_id:a,characteristic_id:e}),await o.A.post("https://back-end.topspeed-performance.de/api/vehicle/add-characteristics-tuning",null,{params:{vehicle_id:s,tuning_id:a,characteristic_id:e}}),u(),l(s=>s.filter(s=>s.id!==e))}catch(e){console.error("Error adding characteristic to vehicle:",e)}},x=async e=>{try{await o.A.delete("https://back-end.topspeed-performance.de/api/vehicle/tuning/characteristic-delete/",{data:{vehicle_id:s,tuning_id:a,characteristic_id:e}}),u()}catch(e){console.error("Error removing characteristic:",e)}};return(0,i.jsxs)("div",{className:"container mt-4",children:[(0,i.jsxs)("h3",{className:"text-center mb-4",children:["Characteristics for ",null==d?void 0:d.full_name," - Stage: ",null==d?void 0:d.stage]}),(0,i.jsxs)("div",{className:"row",children:[(0,i.jsxs)("div",{className:"col-12 col-md-6",children:[(0,i.jsx)("h4",{children:"Current Characteristics"}),t.length>0?(0,i.jsx)("div",{className:"list-group",children:t.map(e=>(0,i.jsxs)("div",{className:"list-group-item d-flex justify-content-between align-items-center",children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)("strong",{children:[e.name,":"]})," ",e.value]}),(0,i.jsx)("button",{className:"btn btn-danger btn-sm",onClick:()=>x(e.id),children:"Remove"})]},e.id))}):(0,i.jsx)("p",{children:"No characteristics found for this car and tuning."})]}),(0,i.jsxs)("div",{className:"col-12 col-md-6",children:[(0,i.jsx)("h4",{className:"mt-4 mt-md-0",children:"Available Characteristics"}),n.length>0?(0,i.jsx)("div",{className:"list-group",children:n.map(e=>(0,i.jsxs)("div",{className:"list-group-item d-flex justify-content-between align-items-center",children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)("strong",{children:[e.name,":"]})," ",e.value]}),(0,i.jsx)("button",{className:"btn btn-primary btn-sm",onClick:()=>g(e.id),children:"Add to Vehicle"})]},e.id))}):(0,i.jsx)("p",{children:"No available characteristics found."})]})]})]})},m=()=>{let e=(0,n.useRouter)(),{car_id:s,tuning_id:a}=e.query,[o,m]=(0,c.useState)(!0),u=(0,c.useCallback)(async()=>{let s=localStorage.getItem("authToken");if(console.log("Token:",s),!s){console.log("No token found, user is not authenticated"),e.push("/");return}try{let a=await fetch("https://back-end.topspeed-performance.de/api/verify",{method:"POST",headers:{Authorization:"Bearer ".concat(s),"Content-Type":"application/json"}});await a.json(),a.ok?(console.log("Token is valid"),m(!1)):(console.log("Token is invalid"),e.push("/"))}catch(s){console.error("Error verifying token:",s),e.push("/")}},[e]);return((0,c.useEffect)(()=>{u()},[u]),o)?(0,i.jsx)("div",{children:"Loading..."}):(0,i.jsxs)(l.A,{children:[(0,i.jsx)("div",{className:"circle-bg",children:(0,i.jsxs)("div",{className:"circle-color fixed",children:[(0,i.jsx)("div",{className:"gradient-circle"}),(0,i.jsx)("div",{className:"gradient-circle two"})]})}),(0,i.jsx)(t.A,{theme:"light"}),(0,i.jsx)(r.A,{className:"sub-bg",title:"Details des Autos hinzuf\xfcgen.",paragraph:"Alle aktuellen Auto und Veranstaltungen unseres kreativen Teams."}),(0,i.jsx)(h,{car_id:s,tuning_id:a}),(0,i.jsx)(d.A,{})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[909,341,636,593,792],()=>s(3338)),_N_E=e.O()}]);