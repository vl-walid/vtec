(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[596],{2078:(e,a,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/car/new-car",function(){return t(917)}])},917:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>v});var n=t(4848),s=t(6540),i=t(6715),r=t(6308),c=t(1106),l=t.n(c),d=t(7669),o=t(4890),h=t(4335);let m=e=>{let{theme:a}=e;s.useEffect(()=>{(0,o.A)()},[]);let t=(0,i.useRouter)(),r=async()=>{try{let e=localStorage.getItem("authToken");if(!e){console.log("No token found, user is not authenticated");return}let a=await h.A.post("https://back-end.topspeed-performance.de/api/logout",{},{headers:{Authorization:"Bearer ".concat(e)}});200===a.status&&(localStorage.removeItem("authToken"),alert("You have successfully logged out"),t.push("/"))}catch(e){console.error("Error during logout:",e),alert("An error occurred while logging out")}};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{id:"navi",className:"topnav ".concat(a&&"light"===a?"light":""),children:(0,n.jsxs)("div",{className:"container-fluid",children:[(0,n.jsx)("div",{className:"logo",children:(0,n.jsx)(l(),{legacyBehavior:!0,href:"/",children:a&&"light"===a?(0,n.jsx)("img",{src:d.EW,alt:"logo"}):(0,n.jsx)("img",{src:d.Mx,alt:"logo"})})}),(0,n.jsxs)("div",{className:"menu-icon",children:[(0,n.jsxs)("span",{className:"icon",children:[(0,n.jsx)("i",{}),(0,n.jsx)("i",{})]}),(0,n.jsx)("span",{className:"text","data-splitting":!0,children:(0,n.jsx)("span",{className:"menu-text word",children:"Menu"})})]})]})}),(0,n.jsx)("div",{className:"hamenu",children:(0,n.jsx)("div",{className:"container",children:(0,n.jsxs)("div",{className:"row",children:[(0,n.jsx)("div",{className:"col-lg-9 col-md-8",children:(0,n.jsx)("div",{className:"menu-links",children:(0,n.jsxs)("ul",{className:"main-menu",children:[(0,n.jsx)("li",{children:(0,n.jsx)("div",{className:"o-hidden",children:(0,n.jsx)(l(),{legacyBehavior:!0,href:"/",children:(0,n.jsxs)("a",{className:"link",children:[(0,n.jsx)("span",{className:"nm",children:"01."}),"Startseite"]})})})}),(0,n.jsx)("li",{children:(0,n.jsx)("div",{className:"o-hidden",children:(0,n.jsx)(l(),{legacyBehavior:!0,href:"/admin/new-blog/",children:(0,n.jsxs)("a",{className:"link",children:[(0,n.jsx)("span",{className:"nm",children:"02."}),"Neue Neuigkeite"]})})})}),(0,n.jsx)("li",{children:(0,n.jsx)("div",{className:"o-hidden",children:(0,n.jsx)(l(),{legacyBehavior:!0,href:"/admin/car/search-car/",children:(0,n.jsxs)("a",{className:"link",children:[(0,n.jsx)("span",{className:"nm",children:"03."}),"Auto nach Name suchen"]})})})}),(0,n.jsx)("li",{children:(0,n.jsx)("div",{className:"o-hidden",children:(0,n.jsx)(l(),{legacyBehavior:!0,href:"/admin/car/new-car",children:(0,n.jsxs)("a",{className:"link",children:[(0,n.jsx)("span",{className:"nm",children:"04."}),"Neues Auto"]})})})}),(0,n.jsx)("li",{children:(0,n.jsx)("div",{className:"o-hidden",children:(0,n.jsx)(l(),{legacyBehavior:!0,href:"/admin/car/tuning-eigenschaften-hinzufuegen/",children:(0,n.jsxs)("a",{className:"link",children:[(0,n.jsx)("span",{className:"nm",children:"05."}),"Tuning und Eigenschaften"]})})})})]})})}),(0,n.jsx)("div",{className:"col-lg-3 col-md-4",children:(0,n.jsxs)("div",{className:"cont-info",children:[(0,n.jsxs)("div",{className:"item",children:[(0,n.jsx)("h6",{children:"Nummer : "}),(0,n.jsx)("p",{children:"034294/843751"})]}),(0,n.jsxs)("div",{className:"item",children:[(0,n.jsx)("h6",{children:"Offizielle Adresse :"}),(0,n.jsx)("p",{children:"Am Bahndamm 9, 04509 Krostitz"})]}),(0,n.jsxs)("div",{className:"item",children:[(0,n.jsx)("h6",{children:"E-Mail"}),(0,n.jsx)("p",{children:(0,n.jsx)("a",{href:"mailto:info@vtec-chiptuning.com?subject=Subject",children:"info@vtec-chiptuning.com"})})]}),(0,n.jsx)("div",{className:"item",children:(0,n.jsx)("button",{onClick:r,className:"admin-logout-btn mt-25",children:"Logout"})})]})})]})})})]})};var u=t(3866),p=t(9242);let g=()=>{var e,a,t,i,r,c,l,d,o,m;let[u,p]=(0,s.useState)([]),[g,v]=(0,s.useState)([]),[x,j]=(0,s.useState)([]),[b,f]=(0,s.useState)([]),[N,y]=(0,s.useState)([]),[k,w]=(0,s.useState)(null),[_,A]=(0,s.useState)(null),[E,S]=(0,s.useState)(null),[C,D]=(0,s.useState)(null),[M,B]=(0,s.useState)(null),[T,z]=(0,s.useState)(""),[G,P]=(0,s.useState)(""),[F,U]=(0,s.useState)(""),[K,O]=(0,s.useState)(""),[I,L]=(0,s.useState)("");(0,s.useEffect)(()=>{R()},[]);let R=async()=>{try{let e=await h.A.get("https://back-end.topspeed-performance.de/api/vehicle/categories");p(e.data)}catch(e){alert("Error fetching categories")}};(0,s.useEffect)(()=>{k?X(k):v([])},[k]);let X=async e=>{try{let a=await h.A.get("https://back-end.topspeed-performance.de/api/vehicle/brands",{params:{category_id:e}});v(a.data)}catch(e){alert("Error fetching brands")}};(0,s.useEffect)(()=>{_?V(_):j([])},[_]);let V=async e=>{try{let a=await h.A.get("https://back-end.topspeed-performance.de/api/vehicle/models",{params:{brand_id:e}});j(a.data)}catch(e){alert("Error fetching models")}};(0,s.useEffect)(()=>{E?W(E):f([])},[E]);let W=async e=>{try{let a=await h.A.get("https://back-end.topspeed-performance.de/api/vehicle/generations",{params:{model_id:e}});f(a.data)}catch(e){alert("Error fetching generations")}};(0,s.useEffect)(()=>{C?Y(C):y([])},[C]);let Y=async e=>{try{let a=await h.A.get("https://back-end.topspeed-performance.de/api/vehicle/engines",{params:{generation_id:e}});y(a.data)}catch(e){alert("Error fetching engines")}},q=async e=>{try{let{updated_category:a,all_categories:t}=(await h.A.put("https://back-end.topspeed-performance.de/api/toggle-active/categories/".concat(e))).data;p(t);let n=a.is_active?'Die Kategorie "'.concat(a.category_name,'" wurde aktiviert.'):'Die Kategorie "'.concat(a.category_name,'" wurde deaktiviert.');alert(n)}catch(e){console.error("Error toggling category status:",e),alert("Fehler beim Umschalten des Kategoriezustands.")}},H=async e=>{try{let{updated_brand:a}=(await h.A.put("https://back-end.topspeed-performance.de/api/toggle-active/brands/".concat(e))).data;v(e=>e.map(e=>e.id===a.id?a:e));let t=a.is_active?'Die Marke "'.concat(a.name,'" wurde aktiviert.'):'Die Marke "'.concat(a.name,'" wurde deaktiviert.');alert(t)}catch(e){console.error("Error toggling brand status:",e),alert("Fehler beim Umschalten des Markenstatus.")}},J=async e=>{try{let{updated_model:a}=(await h.A.put("https://back-end.topspeed-performance.de/api/toggle-active/models/".concat(e))).data;j(e=>e.map(e=>e.id===a.id?a:e));let t=a.is_active?'Das Modell "'.concat(a.name,'" wurde aktiviert.'):'Das Modell "'.concat(a.name,'" wurde deaktiviert.');alert(t)}catch(e){console.error("Error toggling model status:",e),alert("Fehler beim Umschalten des Modellzustands.")}},Q=async e=>{try{let{updated_generation:a}=(await h.A.put("https://back-end.topspeed-performance.de/api/toggle-active/generations/".concat(e))).data;f(e=>e.map(e=>e.id===a.id?a:e));let t=a.is_active?'Die Generation "'.concat(a.name,'" wurde aktiviert.'):'Die Generation "'.concat(a.name,'" wurde deaktiviert.');alert(t)}catch(e){console.error("Error toggling generation status:",e),alert("Fehler beim Umschalten des Generationenzustands.")}},Z=async e=>{try{let{updated_engine:a}=(await h.A.put("https://back-end.topspeed-performance.de/api/toggle-active/engines/".concat(e))).data;y(e=>e.map(e=>e.id===a.id?a:e));let t=a.is_active?'Der Motor "'.concat(a.name,'" wurde aktiviert.'):'Der Motor "'.concat(a.name,'" wurde deaktiviert.');alert(t)}catch(e){console.error("Error toggling engine status:",e),alert("Fehler beim Umschalten des Motorzustands.")}},$=async e=>{e.preventDefault();try{let e=await h.A.post("https://back-end.topspeed-performance.de/api/vehicle/categories",{category_name:T});p([...u,e.data]),alert("Category added successfully"),z("")}catch(e){alert("Error adding category")}},ee=async e=>{if(e.preventDefault(),!k){alert("Please select a category first");return}try{let e=await h.A.post("https://back-end.topspeed-performance.de/api/vehicle/brands",{brand_name:G,category_id:k});v([...g,e.data]),alert("Brand added successfully"),P("")}catch(e){alert("Error adding brand")}},ea=async e=>{if(e.preventDefault(),!_){alert("Please select a brand first");return}try{let e=await h.A.post("https://back-end.topspeed-performance.de/api/vehicle/models",{model_name:F,brand_id:_});j([...x,e.data]),alert("Model added successfully"),U("")}catch(e){alert("Error adding model")}},et=async e=>{if(e.preventDefault(),!E){alert("Please select a model first");return}try{let e=await h.A.post("https://back-end.topspeed-performance.de/api/vehicle/generations",{generation_name:K,model_id:E});f([...b,e.data]),alert("Generation added successfully"),O("")}catch(e){alert("Error adding generation")}},en=async e=>{if(e.preventDefault(),!C){alert("Please select a generation first");return}try{let e=await h.A.post("https://back-end.topspeed-performance.de/api/vehicle/engines",{engine_name:I,generation_id:C});y([...N,e.data]),alert("Engine added successfully"),L("")}catch(e){alert("Error adding engine")}};return(0,n.jsxs)("div",{className:"container",children:[(0,n.jsx)("h2",{children:"Add New Category, Brand, Model, Generation, and Engine"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{children:"Category"}),(0,n.jsxs)("form",{onSubmit:$,children:[(0,n.jsx)("input",{type:"text",value:T,onChange:e=>z(e.target.value),placeholder:"New Category Name",className:"form-control mb-2"}),(0,n.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Add Category"})]})]}),(0,n.jsx)("hr",{}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{children:"Select Category"}),(0,n.jsxs)("select",{value:k||"",onChange:e=>w(e.target.value),className:"form-select mb-2",children:[(0,n.jsx)("option",{value:"",children:"Select Category"}),u.map(e=>(0,n.jsx)("option",{value:e.id,children:e.category_name},e.id))]}),k&&(0,n.jsx)("button",{onClick:()=>q(k),className:"btn ".concat((null===(e=u.find(e=>e.id===Number(k)))||void 0===e?void 0:e.is_active)===1?"btn-danger":"btn-success"),children:(null===(a=u.find(e=>e.id===Number(k)))||void 0===a?void 0:a.is_active)===1?"Deactivate":"Activate"})]}),(0,n.jsx)("hr",{}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{children:"Brand"}),(0,n.jsxs)("form",{onSubmit:ee,children:[(0,n.jsx)("input",{type:"text",value:G,onChange:e=>P(e.target.value),placeholder:"New Brand Name",className:"form-control mb-2"}),(0,n.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Add Brand"})]})]}),(0,n.jsx)("hr",{}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{children:"Select Brand"}),(0,n.jsxs)("select",{value:_||"",onChange:e=>A(e.target.value),className:"form-select mb-2",children:[(0,n.jsx)("option",{value:"",children:"Select Brand"}),g.map(e=>(0,n.jsx)("option",{value:e.id,children:e.name},e.id))]}),_&&(0,n.jsx)("button",{onClick:()=>H(_),className:"btn ".concat((null===(t=g.find(e=>e.id===Number(_)))||void 0===t?void 0:t.is_active)?"btn-danger":"btn-success"),children:(null===(i=g.find(e=>e.id===Number(_)))||void 0===i?void 0:i.is_active)?"Deactivate":"Activate"})]}),(0,n.jsx)("hr",{}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{children:"Model"}),(0,n.jsxs)("form",{onSubmit:ea,children:[(0,n.jsx)("input",{type:"text",value:F,onChange:e=>U(e.target.value),placeholder:"New Model Name",className:"form-control mb-2"}),(0,n.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Add Model"})]})]}),(0,n.jsx)("hr",{}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{children:"Select Model"}),(0,n.jsxs)("select",{value:E||"",onChange:e=>S(e.target.value),className:"form-select mb-2",children:[(0,n.jsx)("option",{value:"",children:"Select Model"}),x.map(e=>(0,n.jsx)("option",{value:e.id,children:e.name},e.id))]}),E&&(0,n.jsx)("button",{onClick:()=>J(E),className:"btn ".concat((null===(r=x.find(e=>e.id===Number(E)))||void 0===r?void 0:r.is_active)===1?"btn-danger":"btn-success"),children:(null===(c=x.find(e=>e.id===Number(E)))||void 0===c?void 0:c.is_active)===1?"Deactivate":"Activate"})]}),(0,n.jsx)("hr",{}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{children:"Generation"}),(0,n.jsxs)("form",{onSubmit:et,children:[(0,n.jsx)("input",{type:"text",value:K,onChange:e=>O(e.target.value),placeholder:"New Generation Name",className:"form-control mb-2"}),(0,n.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Add Generation"})]})]}),(0,n.jsx)("hr",{}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{children:"Select Generation"}),(0,n.jsxs)("select",{value:C||"",onChange:e=>D(e.target.value),className:"form-select mb-2",children:[(0,n.jsx)("option",{value:"",children:"Select Generation"}),b.map(e=>(0,n.jsx)("option",{value:e.id,children:e.name},e.id))]}),C&&(0,n.jsx)("button",{onClick:()=>Q(C),className:"btn ".concat((null===(l=b.find(e=>e.id===Number(C)))||void 0===l?void 0:l.is_active)===1?"btn-danger":"btn-success"),children:(null===(d=b.find(e=>e.id===Number(C)))||void 0===d?void 0:d.is_active)===1?"Deactivate":"Activate"})]}),(0,n.jsx)("hr",{}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{children:"Engine"}),(0,n.jsxs)("form",{onSubmit:en,children:[(0,n.jsx)("input",{type:"text",value:I,onChange:e=>L(e.target.value),placeholder:"New Engine Name",className:"form-control mb-2"}),(0,n.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Add Engine"})]})]}),(0,n.jsx)("hr",{}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{children:"Select Engine"}),(0,n.jsxs)("select",{value:M||"",onChange:e=>B(e.target.value),className:"form-select mb-2",children:[(0,n.jsx)("option",{value:"",children:"Select Engine"}),N.map(e=>(0,n.jsx)("option",{value:e.id,children:e.name},e.id))]}),M&&(0,n.jsxs)("div",{className:"mt-2",children:[(0,n.jsx)("button",{onClick:()=>Z(M),className:"btn ".concat((null===(o=N.find(e=>e.id===Number(M)))||void 0===o?void 0:o.is_active)===1?"btn-danger":"btn-success"),children:(null===(m=N.find(e=>e.id===Number(M)))||void 0===m?void 0:m.is_active)===1?"Deactivate":"Activate"}),(0,n.jsx)("a",{href:"/admin/car/new-car/".concat(M),className:"btn btn-primary ms-2",children:"Neues Auto erstellen"})]})]})]})},v=()=>{let[e,a]=(0,s.useState)(!0),t=(0,i.useRouter)(),c=(0,s.useCallback)(async()=>{let e=localStorage.getItem("authToken");if(console.log("Token:",e),!e){console.log("No token found, user is not authenticated"),t.push("/");return}try{let n=await fetch("https://back-end.topspeed-performance.de/api/verify",{method:"POST",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});await n.json(),n.ok?(console.log("Token is valid"),a(!1)):(console.log("Token is invalid"),t.push("/"))}catch(e){console.error("Error verifying token:",e),t.push("/")}},[t]);return((0,s.useEffect)(()=>{c()},[c]),e)?(0,n.jsx)("div",{children:"Loading..."}):(0,n.jsxs)(r.A,{children:[(0,n.jsx)("div",{className:"circle-bg",children:(0,n.jsxs)("div",{className:"circle-color fixed",children:[(0,n.jsx)("div",{className:"gradient-circle"}),(0,n.jsx)("div",{className:"gradient-circle two"})]})}),(0,n.jsx)(m,{theme:"light"}),(0,n.jsx)(u.A,{className:"sub-bg",title:"Details des Autos hinzuf\xfcgen.",paragraph:"Alle aktuellen Auto und Veranstaltungen unseres kreativen Teams."}),(0,n.jsx)(g,{}),(0,n.jsx)(p.A,{})]})}}},e=>{var a=a=>e(e.s=a);e.O(0,[909,341,636,593,792],()=>a(2078)),_N_E=e.O()}]);