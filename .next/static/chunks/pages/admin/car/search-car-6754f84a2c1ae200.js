(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[668],{8402:(e,s,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/car/search-car",function(){return a(456)}])},6988:(e,s,a)=>{"use strict";a.d(s,{A:()=>h});var n=a(4848),c=a(6540),l=a(1106),r=a.n(l),i=a(7669),t=a(4890),d=a(6715),o=a(4335);let h=e=>{let{theme:s}=e;c.useEffect(()=>{(0,t.A)()},[]);let a=(0,d.useRouter)(),l=async()=>{try{let e=localStorage.getItem("authToken");if(!e){console.log("No token found, user is not authenticated");return}let s=await o.A.post("https://back-end.topspeed-performance.de/api/logout",{},{headers:{Authorization:"Bearer ".concat(e)}});200===s.status&&(localStorage.removeItem("authToken"),alert("You have successfully logged out"),a.push("/"))}catch(e){console.error("Error during logout:",e),alert("An error occurred while logging out")}};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{id:"navi",className:"topnav ".concat(s&&"light"===s?"light":""),children:(0,n.jsxs)("div",{className:"container-fluid",children:[(0,n.jsx)("div",{className:"logo",children:(0,n.jsx)(r(),{legacyBehavior:!0,href:"/",children:s&&"light"===s?(0,n.jsx)("img",{src:i.EW,alt:"logo"}):(0,n.jsx)("img",{src:i.Mx,alt:"logo"})})}),(0,n.jsxs)("div",{className:"menu-icon",children:[(0,n.jsxs)("span",{className:"icon",children:[(0,n.jsx)("i",{}),(0,n.jsx)("i",{})]}),(0,n.jsx)("span",{className:"text","data-splitting":!0,children:(0,n.jsx)("span",{className:"menu-text word",children:"Menu"})})]})]})}),(0,n.jsx)("div",{className:"hamenu",children:(0,n.jsx)("div",{className:"container",children:(0,n.jsxs)("div",{className:"row",children:[(0,n.jsx)("div",{className:"col-lg-9 col-md-8",children:(0,n.jsx)("div",{className:"menu-links",children:(0,n.jsxs)("ul",{className:"main-menu",children:[(0,n.jsx)("li",{children:(0,n.jsx)("div",{className:"o-hidden",children:(0,n.jsx)(r(),{legacyBehavior:!0,href:"/",children:(0,n.jsxs)("a",{className:"link",children:[(0,n.jsx)("span",{className:"nm",children:"01."}),"Startseite"]})})})}),(0,n.jsx)("li",{children:(0,n.jsx)("div",{className:"o-hidden",children:(0,n.jsx)(r(),{legacyBehavior:!0,href:"/admin/new-blog/",children:(0,n.jsxs)("a",{className:"link",children:[(0,n.jsx)("span",{className:"nm",children:"02."}),"Neue Neuigkeite"]})})})}),(0,n.jsx)("li",{children:(0,n.jsx)("div",{className:"o-hidden",children:(0,n.jsx)(r(),{legacyBehavior:!0,href:"/admin/car/search-car/",children:(0,n.jsxs)("a",{className:"link",children:[(0,n.jsx)("span",{className:"nm",children:"03."}),"Auto nach Name suchen"]})})})}),(0,n.jsx)("li",{children:(0,n.jsx)("div",{className:"o-hidden",children:(0,n.jsx)(r(),{legacyBehavior:!0,href:"/admin/car/new-car",children:(0,n.jsxs)("a",{className:"link",children:[(0,n.jsx)("span",{className:"nm",children:"04."}),"Neues Auto"]})})})}),(0,n.jsx)("li",{children:(0,n.jsx)("div",{className:"o-hidden",children:(0,n.jsx)(r(),{legacyBehavior:!0,href:"/admin/car/tuning-eigenschaften-hinzufuegen/",children:(0,n.jsxs)("a",{className:"link",children:[(0,n.jsx)("span",{className:"nm",children:"05."}),"Tuning und Eigenschaften"]})})})})]})})}),(0,n.jsx)("div",{className:"col-lg-3 col-md-4",children:(0,n.jsxs)("div",{className:"cont-info",children:[(0,n.jsxs)("div",{className:"item",children:[(0,n.jsx)("h6",{children:"Nummer : "}),(0,n.jsx)("p",{children:"034294/843751"})]}),(0,n.jsxs)("div",{className:"item",children:[(0,n.jsx)("h6",{children:"Offizielle Adresse :"}),(0,n.jsx)("p",{children:"Am Bahndamm 9, 04509 Krostitz"})]}),(0,n.jsxs)("div",{className:"item",children:[(0,n.jsx)("h6",{children:"E-Mail"}),(0,n.jsx)("p",{children:(0,n.jsx)("a",{href:"mailto:info@vtec-chiptuning.com?subject=Subject",children:"info@vtec-chiptuning.com"})})]}),(0,n.jsx)("div",{className:"item",children:(0,n.jsx)("button",{onClick:l,className:"admin-logout-btn mt-25",children:"Logout"})})]})})]})})})]})}},456:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>m});var n=a(4848),c=a(6540),l=a(6715),r=a(6308),i=a(6988),t=a(3866),d=a(9242),o=a(4335);let h=()=>{let[e,s]=(0,c.useState)(""),[a,l]=(0,c.useState)([]),[r,i]=(0,c.useState)(!1),[t,d]=(0,c.useState)(null),h=async s=>{s.preventDefault(),i(!0),d(null);try{let s=await o.A.get("https://back-end.topspeed-performance.de/api/vehicles/search",{params:{full_name:e}});l(s.data)}catch(e){d("Something went wrong while fetching the vehicles.")}finally{i(!1)}},m=async(e,s)=>{try{let a=s?0:1;await o.A.patch("https://back-end.topspeed-performance.de/api/vehicles/".concat(e,"/toggle-active"),{vehicle_id:e,is_active:a}),l(s=>s.map(s=>s.id===e?{...s,is_active:a}:s))}catch(e){console.error("Error toggling vehicle status:",e)}};return(0,n.jsxs)("div",{className:"container my-5",children:[(0,n.jsx)("h1",{className:"text-center mb-4",style:{color:"red"},children:"Fahrzeug Suche"}),(0,n.jsx)("form",{onSubmit:h,className:"mb-4",children:(0,n.jsxs)("div",{className:"input-group",children:[(0,n.jsx)("input",{type:"text",className:"form-control",placeholder:"Search by vehicle name",value:e,onChange:e=>{s(e.target.value)},style:{border:"2px solid red",color:"black"}}),(0,n.jsx)("button",{className:"btn btn-danger",type:"submit",style:{backgroundColor:"red",borderColor:"black"},children:"Suchen"})]})}),r&&(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"spinner-border text-danger",role:"status","aria-hidden":"true"}),(0,n.jsx)("p",{children:"Loading..."})]}),t&&(0,n.jsx)("p",{className:"text-danger text-center",children:t}),a.length>0&&(0,n.jsx)("div",{className:"row",children:a.map(e=>(0,n.jsx)("div",{className:"col-md-6 mb-4",children:(0,n.jsx)("div",{className:"card",style:{border:"2px solid grey",backgroundColor:"black",color:"white",position:"relative"},children:(0,n.jsxs)("div",{className:"card-body",children:[(0,n.jsx)("h5",{className:"card-title",style:{color:"red"},children:e.full_name}),(0,n.jsxs)("p",{className:"card-text",children:[(0,n.jsx)("strong",{children:"ID:"})," ",e.id]}),(0,n.jsxs)("p",{className:"card-text",children:[(0,n.jsx)("strong",{children:"Engine ID:"})," ",e.engine_id]}),(0,n.jsxs)("p",{className:"card-text",children:[(0,n.jsx)("strong",{children:"Standard Power:"})," ",e.standard_power]}),(0,n.jsxs)("p",{className:"card-text",children:[(0,n.jsx)("strong",{children:"Standard Torque:"})," ",e.standard_torque]}),(0,n.jsxs)("p",{className:"card-text",children:[(0,n.jsx)("strong",{children:"Fuel:"})," ",e.fuel]}),(0,n.jsxs)("p",{className:"card-text",children:[(0,n.jsx)("strong",{children:"ECU:"})," ",e.ecu]}),(0,n.jsxs)("p",{className:"card-text",children:[(0,n.jsx)("strong",{children:"RPM:"})," ",e.rpm]}),(0,n.jsxs)("p",{className:"card-text",children:[(0,n.jsx)("strong",{children:"OEM Power Chart:"})," ",e.oem_power_chart]}),(0,n.jsxs)("p",{className:"card-text",children:[(0,n.jsx)("strong",{children:"OEM Torque Chart:"})," ",e.oem_torque_chart]}),(0,n.jsxs)("p",{className:"card-text",children:[(0,n.jsx)("strong",{children:"Created At:"})," ",e.created_at]}),(0,n.jsxs)("p",{className:"card-text",children:[(0,n.jsx)("strong",{children:"Updated At:"})," ",e.updated_at]}),(0,n.jsxs)("p",{className:"card-text",children:[(0,n.jsx)("strong",{children:"Active:"})," ",e.is_active?"Yes":"No"]}),(0,n.jsx)("button",{className:"btn btn-sm ".concat(e.is_active?"btn-danger":"btn-success"),style:{position:"absolute",top:10,right:10},onClick:()=>m(e.id,e.is_active),children:e.is_active?"Deaktivieren":"Aktivieren"}),(0,n.jsxs)("div",{className:"d-flex justify-content-between mt-3",children:[(0,n.jsx)("a",{href:"/chiptuning/".concat(e.id),className:"btn btn-outline-danger btn-sm",style:{borderColor:"red",color:"red"},children:"Details ansehen"}),(0,n.jsx)("a",{href:"/admin/car/car-tuning/".concat(e.id),className:"btn btn-danger btn-sm",style:{backgroundColor:"red",borderColor:"black"},children:"Tuning hinzuf\xfcgen"})]})]})})},e.id))})]})},m=()=>{let[e,s]=(0,c.useState)(!0),a=(0,l.useRouter)(),o=(0,c.useCallback)(async()=>{let e=localStorage.getItem("authToken");if(console.log("Token:",e),!e){console.log("No token found, user is not authenticated"),a.push("/");return}try{let n=await fetch("https://back-end.topspeed-performance.de/api/verify",{method:"POST",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});await n.json(),n.ok?(console.log("Token is valid"),s(!1)):(console.log("Token is invalid"),a.push("/"))}catch(e){console.error("Error verifying token:",e),a.push("/")}},[a]);return((0,c.useEffect)(()=>{o()},[o]),e)?(0,n.jsx)("div",{children:"Loading..."}):(0,n.jsxs)(r.A,{children:[(0,n.jsx)("div",{className:"circle-bg",children:(0,n.jsxs)("div",{className:"circle-color fixed",children:[(0,n.jsx)("div",{className:"gradient-circle"}),(0,n.jsx)("div",{className:"gradient-circle two"})]})}),(0,n.jsx)(i.A,{theme:"light"}),(0,n.jsx)(t.A,{className:"sub-bg",title:"Details des Autos hinzuf\xfcgen.",paragraph:"Alle aktuellen Auto und Veranstaltungen unseres kreativen Teams."}),(0,n.jsx)(h,{}),(0,n.jsx)(d.A,{})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[909,341,636,593,792],()=>s(8402)),_N_E=e.O()}]);