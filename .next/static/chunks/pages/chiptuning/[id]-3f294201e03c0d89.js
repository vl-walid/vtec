(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[385],{8742:(e,l,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/chiptuning/[id]",function(){return r(4466)}])},5545:(e,l,r)=>{"use strict";r.d(l,{A:()=>s});let s=e=>{window.addEventListener("scroll",()=>{var l=window.pageYOffset;e&&e.forEach(e=>{e.style.transform="translate3d(0, "+-(.2*l)+"px, 0)",e.style.opacity=1-l/600})})}},4466:(e,l,r)=>{"use strict";r.r(l),r.d(l,{default:()=>p});var s=r(4848),i=r(6540),a=r(4335),t=r(6715),n=r(9590),c=r(5545);let d=e=>{let{sliderRef:l,brand:r,vehicle_name:a}=e;return i.useEffect(()=>{(0,c.A)(document.querySelectorAll(".fixed-slider .capt .parlx"))},[]),(0,s.jsx)("header",{ref:l,className:"works-header fixed-slider valign sub-bg",children:(0,s.jsx)("div",{className:"container",children:(0,s.jsx)("div",{className:"row justify-content-center",children:(0,s.jsx)("div",{className:"col-12",children:(0,s.jsx)("div",{className:"capt mt-50 text-center",children:(0,s.jsxs)("div",{className:"parlx",children:[(0,s.jsx)("h1",{className:"color-font",children:a}),(0,s.jsx)("p",{children:"VTEC"})]})})})})})})};var o=r(6308),h=r(4273);let u=e=>{let{vehicleDetails:l,vehicleTuning:r}=e,i=[],a=[],t=[],n=[];if(l){var c,d,o;i=((null==l?void 0:null===(c=l.rpm)||void 0===c?void 0:c.split(","))||[]).map(e=>Number(e)),a=((null==l?void 0:null===(d=l.oem_power_chart)||void 0===d?void 0:d.split(","))||[]).map(e=>Number(e)),t=((null==l?void 0:null===(o=l.oem_torque_chart)||void 0===o?void 0:o.split(","))||[]).map(e=>Number(e))}return r&&r.length>0&&r.forEach(e=>{var r,s;let i=((null==e?void 0:null===(r=e.power_chart)||void 0===r?void 0:r.split(","))||[]).map(e=>Number(e)),a=((null==e?void 0:null===(s=e.torque_chart)||void 0===s?void 0:s.split(","))||[]).map(e=>Number(e)),t=e.price,c=Number(null==l?void 0:l.standard_power)||0;null===t&&("Stage 1"===e.tuning_stage&&c<300?t=400:"Stage 2"===e.tuning_stage&&c<300?t=500:"Stage 1"===e.tuning_stage&&c>=300?t=500:"Stage 2"===e.tuning_stage&&c>=300?t=600:"Stage 3"===e.tuning_stage?t=1200:"Truck Stage 1"===e.tuning_stage?t=800:"ECO"===e.tuning_stage&&(t=400)),n.push({tuningStage:e.tuning_stage,power:i,torque:a,finalPower:(Number(null==l?void 0:l.standard_power)||0)+(Number(null==e?void 0:e.difference_power)||0),finalTorque:(Number(null==l?void 0:l.standard_torque)||0)+(Number(null==e?void 0:e.difference_torque)||0),price:t})}),(0,s.jsx)("section",{className:"sub-bg",children:(0,s.jsxs)("div",{className:"container",children:[(0,s.jsx)("div",{className:"row",children:(0,s.jsx)("div",{className:"col-md-8 mt-50",children:(0,s.jsx)("h4",{children:l?"".concat(l.full_name):"Loading..."})})}),(0,s.jsx)("div",{className:"col-md-12 mt-40",children:(0,s.jsxs)("table",{className:"table table-bordered text-center",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{style:{backgroundColor:"#4F4F4F",color:"#ffffff"},children:"Parameter"}),(0,s.jsx)("th",{style:{backgroundColor:"#2c2c2c",color:"#ffffff"},children:"Original"}),n.map((e,l)=>(0,s.jsx)("th",{style:{backgroundColor:"#b22222",color:"#ffffff",fontWeight:"bold"},children:e.tuningStage},l))]})}),(0,s.jsxs)("tbody",{children:[(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{style:{backgroundColor:"#f0f0f0",color:"#000000"},children:"Pferdest\xe4rken (PS)"}),(0,s.jsx)("td",{style:{backgroundColor:"#e0e0e0",color:"#000000"},children:(null==l?void 0:l.standard_power)||"Loading..."}),n.map((e,l)=>(0,s.jsxs)("td",{style:{backgroundColor:"#ffe5e5",color:"#b22222"},children:[(0,s.jsx)("strong",{children:e.finalPower})," PS"]},l))]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{style:{backgroundColor:"#f0f0f0",color:"#000000"},children:"Drehmoment (Nm)"}),(0,s.jsx)("td",{style:{backgroundColor:"#e0e0e0",color:"#000000"},children:(null==l?void 0:l.standard_torque)||"Loading..."}),n.map((e,l)=>(0,s.jsxs)("td",{style:{backgroundColor:"#ffe5e5",color:"#b22222"},children:[(0,s.jsx)("strong",{children:e.finalTorque})," Nm"]},l))]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{style:{backgroundColor:"#f0f0f0",color:"#000000"},children:"Price (€)"}),(0,s.jsx)("td",{style:{backgroundColor:"#e0e0e0",color:"#000000"},children:"-"}),n.map((e,l)=>(0,s.jsx)("td",{style:{backgroundColor:"#ffe5e5",color:"#b22222"},children:(0,s.jsxs)("strong",{children:[e.price," €"]})},l))]})]})]})}),(0,s.jsx)("div",{className:"row mt-30",children:n.map((e,l)=>(0,s.jsxs)("div",{className:"col-md-6",children:[(0,s.jsxs)("h5",{children:[e.tuningStage," Charts"]}),(0,s.jsx)(h.b,{width:400,height:300,series:[{curve:"linear",data:a,label:"OEM Power"},{curve:"linear",data:t,label:"OEM Torque"},{curve:"linear",data:e.power,label:"".concat(e.tuningStage," Power")},{curve:"linear",data:e.torque,label:"".concat(e.tuningStage," Torque")}],xAxis:[{scaleType:"point",data:i}]})]},l))})]})})};var m=r(9965),x=r.n(m);let g=e=>{let{additionalOptions:l}=e,{vehicleId:r,tuningIds:t,tuningNames:n}=l,[c,d]=(0,i.useState)([]),[o,h]=(0,i.useState)(null);return((0,i.useEffect)(()=>{r&&t.length>0&&(async()=>{try{let e=await a.A.post("https://back-end.topspeed-performance.de/api/vehicle-characteristics",{vehicle_id:r,vehicle_tuning_ids:t});d(e.data)}catch(e){console.error("Error fetching characteristics:",e),h("Error fetching characteristics from the server.")}})()},[r,t]),o)?(0,s.jsx)("div",{children:o}):(0,s.jsx)("section",{className:"sub-bg",children:(0,s.jsxs)("div",{className:"container",children:[(0,s.jsx)("div",{className:"row",children:(0,s.jsx)("h3",{children:"Zus\xe4tzliche Optionen"})}),(0,s.jsx)("div",{className:"row mt-30 line-height-35",children:c&&c.length>0?c.map((e,l)=>(0,s.jsxs)("div",{className:"col-12",children:[(0,s.jsxs)("h4",{className:"mb-3",children:["Tuning Stage: ",n[l]]})," ",(0,s.jsx)("div",{className:"row",children:e.characteristics.map(e=>{let l=e.image?"/img/caroptions/".concat(e.image):"/img/caroptions/default-characteristic.png";return(0,s.jsxs)("div",{className:"col-lg-3 col-md-4 col-4 mb-3 mr-5 p-1 d-flex align-items-center butn curve",style:{backgroundColor:"#2b2d42",color:"white"},children:[(0,s.jsx)("div",{className:"",children:(0,s.jsx)(x(),{src:l,alt:e.name,width:200,height:200,className:"img-fluid"})}),(0,s.jsx)("div",{className:"ml-3",children:(0,s.jsx)("span",{children:e.name})})]},e.id)})})]},e.vehicle_tuning_id)):(0,s.jsx)("p",{children:"No additional options available"})})]})})};var f=r(9242),v=r(3368),j=r.n(v);let p=()=>{let e=(0,i.useRef)(null),l=(0,i.useRef)(null),r=(0,i.useRef)(null),c=(0,i.useRef)(null),[h,m]=(0,i.useState)(null),[x,v]=(0,i.useState)(null),[p,b]=(0,i.useState)(null),[N,_]=(0,i.useState)(!0),[w,y]=(0,i.useState)(null),[S,k]=(0,i.useState)(null),{id:E}=(0,t.useRouter)().query;if((0,i.useEffect)(()=>{E&&(async()=>{try{_(!0);let e=await a.A.post("https://back-end.topspeed-performance.de/api/vehicle/details",{vehicle_id:E});m(e.data.vehicle),v(e.data.tuning),y(e.data.vehicle.full_name),_(!1)}catch(e){console.error("Error fetching vehicle details:",e),b("Error fetching vehicle details from the server."),_(!1)}})()},[E]),N)return(0,s.jsx)("div",{children:"Loading..."});if(p)return(0,s.jsxs)(o.A,{children:[(0,s.jsx)(j(),{children:(0,s.jsx)("title",{children:"Error - Vehicle Details"})}),(0,s.jsx)("div",{className:"circle-bg",children:(0,s.jsxs)("div",{className:"circle-color fixed",children:[(0,s.jsx)("div",{className:"gradient-circle"}),(0,s.jsx)("div",{className:"gradient-circle two"})]})}),(0,s.jsx)(n.A,{nr:r,lr:c,theme:"themeL"}),(0,s.jsx)(d,{sliderRef:e,brand:S,vehicle_name:w}),(0,s.jsx)("div",{className:"main-content",children:(0,s.jsx)("p",{children:p})}),(0,s.jsx)(f.A,{})]});let C=h?h.id:null,q=x?x.map(e=>e.id):[],A=x?x.map(e=>e.tuning_stage):[];return(0,s.jsxs)(o.A,{children:[(0,s.jsx)(j(),{children:(0,s.jsx)("title",{children:w})}),(0,s.jsx)("div",{className:"circle-bg",children:(0,s.jsxs)("div",{className:"circle-color fixed",children:[(0,s.jsx)("div",{className:"gradient-circle"}),(0,s.jsx)("div",{className:"gradient-circle two"})]})}),(0,s.jsx)(n.A,{nr:r,lr:c,theme:"themeL"}),(0,s.jsx)(d,{sliderRef:e,vehicle_name:w}),(0,s.jsxs)("div",{className:"main-content",ref:l,children:[h&&x?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(u,{vehicleDetails:h,vehicleTuning:x}),(0,s.jsx)(g,{additionalOptions:{vehicleId:C,tuningIds:q,tuningNames:A}})]}):(0,s.jsx)("p",{children:"No vehicle or tuning details available"}),(0,s.jsx)(f.A,{})]})]})}}},e=>{var l=l=>e(e.s=l);e.O(0,[909,965,273,447,636,593,792],()=>l(8742)),_N_E=e.O()}]);